{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/components/student/StudentList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/components/student/StudentList.vue","mtime":1582622670717},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZVZhbHVlOiAnJywKICAgICAgLy8g6I635Y+W55So5oi35YiX6KGo55qE5Y+C5pWw5a+56LGhCiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIG1lczogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBzdGFydFRpbWU6ICcnLAogICAgICAgIGVuZFRpbWU6ICcnLAogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICB0YWJsZUhlYWQ6IFsKICAgICAgICB7IGNvbHVtbl9uYW1lOiAnY291cnNlX25hbWUnLCBjb2x1bW5fY29tbWVudDogJ+ivvueoi+WQjeensCcgfSwKICAgICAgICB7IGNvbHVtbl9uYW1lOiAnY29udGVudF90aXRsZScsIGNvbHVtbl9jb21tZW50OiAn55u05pKt5ZCN56ewJyB9LAogICAgICAgIHsgY29sdW1uX25hbWU6ICdzdGFydF90aW1lJywgY29sdW1uX2NvbW1lbnQ6ICflvIDor77ml7bpl7QnIH0sCiAgICAgICAgeyBjb2x1bW5fbmFtZTogJ3NjaG9vbF9uYW1lJywgY29sdW1uX2NvbW1lbnQ6ICflrabpmaInIH0sCiAgICAgICAgeyBjb2x1bW5fbmFtZTogJ3N0dWRlbnRfbnVtYmVyJywgY29sdW1uX2NvbW1lbnQ6ICfmiqXlkI3kurrmlbAnIH0sCiAgICAgICAgeyBjb2x1bW5fbmFtZTogJ3JlYWxfbnVtYmVyJywgY29sdW1uX2NvbW1lbnQ6ICfkuIror77kurrmlbAnIH0sCiAgICAgICAgeyBjb2x1bW5fbmFtZTogJ2NsYXNzX3JhdGUnLCBjb2x1bW5fY29tbWVudDogJ+WIsOivvueOhycgfQogICAgICBdLAogICAgICBzdHVkZW50TGlzdDogW10KICAgIH0KICB9LAogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8jOi/m+mhtemdouWKoOi9vQogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFN0dWRlbnRMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldFN0dWRlbnRMaXN0KCkgewogICAgICBjb25zdCB7IGRhdGE6IHVzZXJSZXMgfSA9IGF3YWl0IHRoaXMuJGFwaS5zdHVkZW50LmZpbmRBbGxTdHVkZW50KCkKICAgICAgaWYgKHVzZXJSZXMuY29kZSAhPT0gMSkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bnlKjmiLfliJfooajlpLHotKXvvIEnKQogICAgICB9CiAgICAgIHRoaXMuc3R1ZGVudExpc3QgPSB1c2VyUmVzLmRhdGEKICAgICAgdGhpcy50b3RhbCA9IHVzZXJSZXMuZGF0YS50b3RhbAogICAgfSwKICAgIC8vIOWvvOWHuuaVsOaNrgogICAgZXhwb3J0RGF0YSgpIHsKICAgICAgcmVxdWlyZS5lbnN1cmUoW10sICgpID0+IHsKICAgICAgICAvLyDmoIfnuqLmmK/msqHmnInpqbzls7Dlkb3lkI0KICAgICAgICAvLyBjb25zdCB7IGV4cG9ydF9qc29uX3RvX2V4Y2VsIH0gPSByZXF1aXJlKCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKQogICAgICAgIGNvbnN0IHsgZXhwb3J0SnNvblRvRXhjZWwgfSA9IHJlcXVpcmUoJy4uLy4uL3ZlbmRvci9FeHBvcnQyRXhjZWwnKQogICAgICAgIC8vIOimgei+k+WHuueahOihqOWktAogICAgICAgIGNvbnN0IHRIZWFkZXIgPSBbCiAgICAgICAgICAn6K++56iL5ZCN56ewJywKICAgICAgICAgICfnm7Tmkq3lkI3np7AnLAogICAgICAgICAgJ+W8gOivvuaXtumXtCcsCiAgICAgICAgICAn5a2m6ZmiJywKICAgICAgICAgICfmiqXlkI3kurrmlbAnLAogICAgICAgICAgJ+S4iuivvuS6uuaVsCcsCiAgICAgICAgICAn5Yiw6K++546HJwogICAgICAgIF0KICAgICAgICAvLyDooajlpLTlr7nlupTnmoTlhoXlrrksIOS8muS7juS4i+ihjOWumuS5ieeahCBsaXN0IOmHjOWOu+aJvuebuOW6lOeahOaVsOaNrgogICAgICAgIGNvbnN0IGZpbHRlclZhbCA9IFsKICAgICAgICAgICdjb3Vyc2VfbmFtZScsCiAgICAgICAgICAnY29udGVudF90aXRsZScsCiAgICAgICAgICAnc3RhcnRfdGltZScsCiAgICAgICAgICAnc2Nob29sX25hbWUnLAogICAgICAgICAgJ3N0dWRlbnRfbnVtYmVyJywKICAgICAgICAgICdyZWFsX251bWJlcicsCiAgICAgICAgICAnY2xhc3NfcmF0ZScsCiAgICAgICAgICAnbGFzdFVwZGF0ZUJ5JwogICAgICAgIF0KICAgICAgICAvLyDmlbDmja7mnaXmupAKICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5zdHVkZW50TGlzdAogICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmZvcm1hdEpzb24oZmlsdGVyVmFsLCBsaXN0KQogICAgICAgIGNvbnN0IHRpbWUgPSB0aGlzLiRtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZLU1NLUREJykKICAgICAgICAvLyBmaWxlTmFtZTog6KaB5a+85Ye655qE6KGo5qC85ZCN56ewCiAgICAgICAgZXhwb3J0SnNvblRvRXhjZWwodEhlYWRlciwgZGF0YSwgJ1N0dWRlbnRMaXN0JyArIHRpbWUpCiAgICAgIH0pCiAgICB9LAogICAgZm9ybWF0SnNvbihmaWx0ZXJWYWwsIGpzb25EYXRhKSB7CiAgICAgIHJldHVybiBqc29uRGF0YS5tYXAodiA9PiBmaWx0ZXJWYWwubWFwKGogPT4gdltqXSkpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["StudentList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentList.vue","sourceRoot":"src/components/student","sourcesContent":["<template>\n  <div>\n    <!-- 面包屑导航区域-->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>课程信息</el-breadcrumb-item>\n      <el-breadcrumb-item>今日课程</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片视图区域-->\n    <el-card>\n      <!-- 搜索与添加区域-->\n      <el-row>\n        <el-col :span=\"6\">\n          <!-- <el-button type=\"primary\" plain @click=\"getStudentList\"\n            >搜索</el-button\n          > -->\n          <el-button type=\"primary\" @click=\"exportData\">导出</el-button>\n          <!-- <el-button type=\"primary\" @click=\"addDialogVisible = true\"\n            >添加用户</el-button\n          > -->\n        </el-col>\n      </el-row>\n      <!-- 课程列表区域-->\n      <el-table border :data=\"studentList\">\n        <el-table-column type=\"index\" width=\"50\" label=\"序号\"></el-table-column>\n        <template v-for=\"(item, index) in tableHead\">\n          <el-table-column\n            v-if=\"item.column_name\"\n            :key=\"index\"\n            :prop=\"item.column_name\"\n            :label=\"item.column_comment\"\n          ></el-table-column>\n        </template>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      timeValue: '',\n      // 获取用户列表的参数对象\n      queryInfo: {\n        mes: '',\n        status: '',\n        startTime: '',\n        endTime: '',\n        pageNum: 1,\n        pageSize: 10\n      },\n      total: 0,\n      tableHead: [\n        { column_name: 'course_name', column_comment: '课程名称' },\n        { column_name: 'content_title', column_comment: '直播名称' },\n        { column_name: 'start_time', column_comment: '开课时间' },\n        { column_name: 'school_name', column_comment: '学院' },\n        { column_name: 'student_number', column_comment: '报名人数' },\n        { column_name: 'real_number', column_comment: '上课人数' },\n        { column_name: 'class_rate', column_comment: '到课率' }\n      ],\n      studentList: []\n    }\n  },\n  // 生命周期函数，进页面加载\n  created() {\n    this.getStudentList()\n  },\n  methods: {\n    async getStudentList() {\n      const { data: userRes } = await this.$api.student.findAllStudent()\n      if (userRes.code !== 1) {\n        return this.$message.error('获取用户列表失败！')\n      }\n      this.studentList = userRes.data\n      this.total = userRes.data.total\n    },\n    // 导出数据\n    exportData() {\n      require.ensure([], () => {\n        // 标红是没有驼峰命名\n        // const { export_json_to_excel } = require('@/vendor/Export2Excel')\n        const { exportJsonToExcel } = require('../../vendor/Export2Excel')\n        // 要输出的表头\n        const tHeader = [\n          '课程名称',\n          '直播名称',\n          '开课时间',\n          '学院',\n          '报名人数',\n          '上课人数',\n          '到课率'\n        ]\n        // 表头对应的内容, 会从下行定义的 list 里去找相应的数据\n        const filterVal = [\n          'course_name',\n          'content_title',\n          'start_time',\n          'school_name',\n          'student_number',\n          'real_number',\n          'class_rate',\n          'lastUpdateBy'\n        ]\n        // 数据来源\n        const list = this.studentList\n        const data = this.formatJson(filterVal, list)\n        const time = this.$moment(new Date()).format('YYYY-MM-DD')\n        // fileName: 要导出的表格名称\n        exportJsonToExcel(tHeader, data, 'StudentList' + time)\n      })\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => v[j]))\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped></style>\n"]}]}