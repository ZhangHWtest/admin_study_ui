{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/vendor/Blob.js","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/vendor/Blob.js","mtime":1582519965606},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/raw-loader/index.js","mtime":1582519207907},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/cache-loader/dist/cjs.js","mtime":1577353208002},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js","mtime":1577353208223},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/eslint-loader/index.js","mtime":1577353210651}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuY29uc3RydWN0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuaXMtdmlldyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGEtdmlldyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24uYmluZCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuY3JlYXRlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXgiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIik7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIi9Vc2Vycy96aHd0ZXN0L0Rlc2t0b3AvVnVlUHJvamVjdHMvYWRtaW5fc3R1ZHlfdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7CgooZnVuY3Rpb24gKCkgewogIHZhciBnbG9iYWwgPSAodHlwZW9mIHdpbmRvdyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2Yod2luZG93KSkgPT09ICdvYmplY3QnID8gd2luZG93IDogKHR5cGVvZiBzZWxmID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihzZWxmKSkgPT09ICdvYmplY3QnID8gc2VsZiA6IHRoaXM7CiAgdmFyIEJsb2JCdWlsZGVyID0gZ2xvYmFsLkJsb2JCdWlsZGVyIHx8IGdsb2JhbC5XZWJLaXRCbG9iQnVpbGRlciB8fCBnbG9iYWwuTVNCbG9iQnVpbGRlciB8fCBnbG9iYWwuTW96QmxvYkJ1aWxkZXI7CgogIGdsb2JhbC5VUkwgPSBnbG9iYWwuVVJMIHx8IGdsb2JhbC53ZWJraXRVUkwgfHwgZnVuY3Rpb24gKGhyZWYsIGEpIHsKICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBhLmhyZWYgPSBocmVmOwogICAgcmV0dXJuIGE7CiAgfTsKCiAgdmFyIG9yaWdCbG9iID0gZ2xvYmFsLkJsb2I7CiAgdmFyIGNyZWF0ZU9iamVjdFVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkw7CiAgdmFyIHJldm9rZU9iamVjdFVSTCA9IFVSTC5yZXZva2VPYmplY3RVUkw7CiAgdmFyIHN0clRhZyA9IGdsb2JhbC5TeW1ib2wgJiYgZ2xvYmFsLlN5bWJvbC50b1N0cmluZ1RhZzsKICB2YXIgYmxvYlN1cHBvcnRlZCA9IGZhbHNlOwogIHZhciBibG9iU3VwcG9ydHNBcnJheUJ1ZmZlclZpZXcgPSBmYWxzZTsKICB2YXIgYXJyYXlCdWZmZXJTdXBwb3J0ZWQgPSAhIWdsb2JhbC5BcnJheUJ1ZmZlcjsKICB2YXIgYmxvYkJ1aWxkZXJTdXBwb3J0ZWQgPSBCbG9iQnVpbGRlciAmJiBCbG9iQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kICYmIEJsb2JCdWlsZGVyLnByb3RvdHlwZS5nZXRCbG9iOwoKICB0cnkgewogICAgLy8gQ2hlY2sgaWYgQmxvYiBjb25zdHJ1Y3RvciBpcyBzdXBwb3J0ZWQKICAgIGJsb2JTdXBwb3J0ZWQgPSBuZXcgQmxvYihbJ8OkJ10pLnNpemUgPT09IDI7IC8vIENoZWNrIGlmIEJsb2IgY29uc3RydWN0b3Igc3VwcG9ydHMgQXJyYXlCdWZmZXJWaWV3cwogICAgLy8gRmFpbHMgaW4gU2FmYXJpIDYsIHNvIHdlIG5lZWQgdG8gbWFwIHRvIEFycmF5QnVmZmVycyB0aGVyZS4KCiAgICBibG9iU3VwcG9ydHNBcnJheUJ1ZmZlclZpZXcgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoWzEsIDJdKV0pLnNpemUgPT09IDI7CiAgfSBjYXRjaCAoZSkge30KICAvKioKICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBtYXBzIEFycmF5QnVmZmVyVmlld3MgdG8gQXJyYXlCdWZmZXJzCiAgICogVXNlZCBieSBCbG9iQnVpbGRlciBjb25zdHJ1Y3RvciBhbmQgb2xkIGJyb3dzZXJzIHRoYXQgZGlkbid0CiAgICogc3VwcG9ydCBpdCBpbiB0aGUgQmxvYiBjb25zdHJ1Y3Rvci4KICAgKi8KCgogIGZ1bmN0aW9uIG1hcEFycmF5QnVmZmVyVmlld3MoYXJ5KSB7CiAgICByZXR1cm4gYXJ5Lm1hcChmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgaWYgKGNodW5rLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7CiAgICAgICAgdmFyIGJ1ZiA9IGNodW5rLmJ1ZmZlcjsgLy8gaWYgdGhpcyBpcyBhIHN1YmFycmF5LCBtYWtlIGEgY29weSBzbyB3ZSBvbmx5CiAgICAgICAgLy8gaW5jbHVkZSB0aGUgc3ViYXJyYXkgcmVnaW9uIGZyb20gdGhlIHVuZGVybHlpbmcgYnVmZmVyCgogICAgICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoICE9PSBidWYuYnl0ZUxlbmd0aCkgewogICAgICAgICAgdmFyIGNvcHkgPSBuZXcgVWludDhBcnJheShjaHVuay5ieXRlTGVuZ3RoKTsKICAgICAgICAgIGNvcHkuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZiwgY2h1bmsuYnl0ZU9mZnNldCwgY2h1bmsuYnl0ZUxlbmd0aCkpOwogICAgICAgICAgYnVmID0gY29weS5idWZmZXI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYnVmOwogICAgICB9CgogICAgICByZXR1cm4gY2h1bms7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEJsb2JCdWlsZGVyQ29uc3RydWN0b3IoYXJ5LCBvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIHZhciBiYiA9IG5ldyBCbG9iQnVpbGRlcigpOwogICAgbWFwQXJyYXlCdWZmZXJWaWV3cyhhcnkpLmZvckVhY2goZnVuY3Rpb24gKHBhcnQpIHsKICAgICAgYmIuYXBwZW5kKHBhcnQpOwogICAgfSk7CiAgICByZXR1cm4gb3B0aW9ucy50eXBlID8gYmIuZ2V0QmxvYihvcHRpb25zLnR5cGUpIDogYmIuZ2V0QmxvYigpOwogIH0KCiAgZnVuY3Rpb24gQmxvYkNvbnN0cnVjdG9yKGFyeSwgb3B0aW9ucykgewogICAgcmV0dXJuIG5ldyBvcmlnQmxvYihtYXBBcnJheUJ1ZmZlclZpZXdzKGFyeSksIG9wdGlvbnMgfHwge30pOwogIH0KCiAgaWYgKGdsb2JhbC5CbG9iKSB7CiAgICBCbG9iQnVpbGRlckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IEJsb2IucHJvdG90eXBlOwogICAgQmxvYkNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IEJsb2IucHJvdG90eXBlOwogIH0KICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogIC8qICAgICAgICAgICAgICAgU3RyaW5nIEVuY29kZXIgZmFsbGJhY2sgICAgICAgICAgICAgICAgKi8KCiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCiAgZnVuY3Rpb24gc3RyaW5nRW5jb2RlKHN0cmluZykgewogICAgdmFyIHBvcyA9IDA7CiAgICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aDsKICAgIHZhciBvdXQgPSBbXTsKICAgIHZhciBBcnIgPSBnbG9iYWwuVWludDhBcnJheSB8fCBBcnJheTsgLy8gVXNlIGJ5dGUgYXJyYXkgd2hlbiBwb3NzaWJsZQoKICAgIHZhciBhdCA9IDA7IC8vIG91dHB1dCBwb3NpdGlvbgoKICAgIHZhciB0bGVuID0gTWF0aC5tYXgoMzIsIGxlbiArIChsZW4gPj4gMSkgKyA3KTsgLy8gMS41eCBzaXplCgogICAgdmFyIHRhcmdldCA9IG5ldyBBcnIodGxlbiA+PiAzIDw8IDMpOyAvLyAuLi4gYnV0IGF0IDggYnl0ZSBvZmZzZXQKCiAgICB3aGlsZSAocG9zIDwgbGVuKSB7CiAgICAgIHZhciB2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KHBvcysrKTsKCiAgICAgIGlmICh2YWx1ZSA+PSAweGQ4MDAgJiYgdmFsdWUgPD0gMHhkYmZmKSB7CiAgICAgICAgLy8gaGlnaCBzdXJyb2dhdGUKICAgICAgICBpZiAocG9zIDwgbGVuKSB7CiAgICAgICAgICB2YXIgZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChwb3MpOwoKICAgICAgICAgIGlmICgoZXh0cmEgJiAweGZjMDApID09PSAweGRjMDApIHsKICAgICAgICAgICAgKytwb3M7CiAgICAgICAgICAgIHZhbHVlID0gKCh2YWx1ZSAmIDB4M2ZmKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNmZikgKyAweDEwMDAwOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYpIHsKICAgICAgICAgIGNvbnRpbnVlOyAvLyBkcm9wIGxvbmUgc3Vycm9nYXRlCiAgICAgICAgfQogICAgICB9IC8vIGV4cGFuZCB0aGUgYnVmZmVyIGlmIHdlIGNvdWxkbid0IHdyaXRlIDQgYnl0ZXMKCgogICAgICBpZiAoYXQgKyA0ID4gdGFyZ2V0Lmxlbmd0aCkgewogICAgICAgIHRsZW4gKz0gODsgLy8gbWluaW11bSBleHRyYQoKICAgICAgICB0bGVuICo9IDEuMCArIHBvcyAvIHN0cmluZy5sZW5ndGggKiAyOyAvLyB0YWtlIDJ4IHRoZSByZW1haW5pbmcKCiAgICAgICAgdGxlbiA9IHRsZW4gPj4gMyA8PCAzOyAvLyA4IGJ5dGUgb2Zmc2V0CgogICAgICAgIHZhciB1cGRhdGUgPSBuZXcgVWludDhBcnJheSh0bGVuKTsKICAgICAgICB1cGRhdGUuc2V0KHRhcmdldCk7CiAgICAgICAgdGFyZ2V0ID0gdXBkYXRlOwogICAgICB9CgogICAgICBpZiAoKHZhbHVlICYgMHhmZmZmZmY4MCkgPT09IDApIHsKICAgICAgICAvLyAxLWJ5dGUKICAgICAgICB0YXJnZXRbYXQrK10gPSB2YWx1ZTsgLy8gQVNDSUkKCiAgICAgICAgY29udGludWU7CiAgICAgIH0gZWxzZSBpZiAoKHZhbHVlICYgMHhmZmZmZjgwMCkgPT09IDApIHsKICAgICAgICAvLyAyLWJ5dGUKICAgICAgICB0YXJnZXRbYXQrK10gPSB2YWx1ZSA+PiA2ICYgMHgxZiB8IDB4YzA7CiAgICAgIH0gZWxzZSBpZiAoKHZhbHVlICYgMHhmZmZmMDAwMCkgPT09IDApIHsKICAgICAgICAvLyAzLWJ5dGUKICAgICAgICB0YXJnZXRbYXQrK10gPSB2YWx1ZSA+PiAxMiAmIDB4MGYgfCAweGUwOwogICAgICAgIHRhcmdldFthdCsrXSA9IHZhbHVlID4+IDYgJiAweDNmIHwgMHg4MDsKICAgICAgfSBlbHNlIGlmICgodmFsdWUgJiAweGZmZTAwMDAwKSA9PT0gMCkgewogICAgICAgIC8vIDQtYnl0ZQogICAgICAgIHRhcmdldFthdCsrXSA9IHZhbHVlID4+IDE4ICYgMHgwNyB8IDB4ZjA7CiAgICAgICAgdGFyZ2V0W2F0KytdID0gdmFsdWUgPj4gMTIgJiAweDNmIHwgMHg4MDsKICAgICAgICB0YXJnZXRbYXQrK10gPSB2YWx1ZSA+PiA2ICYgMHgzZiB8IDB4ODA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gRklYTUU6IGRvIHdlIGNhcmUKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgdGFyZ2V0W2F0KytdID0gdmFsdWUgJiAweDNmIHwgMHg4MDsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0LnNsaWNlKDAsIGF0KTsKICB9CiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAvKiAgICAgICAgICAgICAgIFN0cmluZyBEZWNvZGVyIGZhbGxiYWNrICAgICAgICAgICAgICAgICovCgogIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgogIGZ1bmN0aW9uIHN0cmluZ0RlY29kZShidWYpIHsKICAgIHZhciBlbmQgPSBidWYubGVuZ3RoOwogICAgdmFyIHJlcyA9IFtdOwogICAgdmFyIGkgPSAwOwoKICAgIHdoaWxlIChpIDwgZW5kKSB7CiAgICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV07CiAgICAgIHZhciBjb2RlUG9pbnQgPSBudWxsOwogICAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IGZpcnN0Qnl0ZSA+IDB4ZWYgPyA0IDogZmlyc3RCeXRlID4gMHhkZiA/IDMgOiBmaXJzdEJ5dGUgPiAweGJmID8gMiA6IDE7CgogICAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7CiAgICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludDsKCiAgICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7CiAgICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdOwoKICAgICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhjMCkgPT09IDB4ODApIHsKICAgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MWYpIDw8IDB4NiB8IHNlY29uZEJ5dGUgJiAweDNmOwoKICAgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N2YpIHsKICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdOwogICAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdOwoKICAgICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhjMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4YzApID09PSAweDgwKSB7CiAgICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweGYpIDw8IDB4YyB8IChzZWNvbmRCeXRlICYgMHgzZikgPDwgMHg2IHwgdGhpcmRCeXRlICYgMHgzZjsKCiAgICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdmZiAmJiAodGVtcENvZGVQb2ludCA8IDB4ZDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhkZmZmKSkgewogICAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV07CiAgICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl07CiAgICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdOwoKICAgICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhjMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4YzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhjMCkgPT09IDB4ODApIHsKICAgICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4ZikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzZikgPDwgMHhjIHwgKHRoaXJkQnl0ZSAmIDB4M2YpIDw8IDB4NiB8IGZvdXJ0aEJ5dGUgJiAweDNmOwoKICAgICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4ZmZmZiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHsKICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkgewogICAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGEKICAgICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlCiAgICAgICAgY29kZVBvaW50ID0gMHhmZmZkOwogICAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxOwogICAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4ZmZmZikgewogICAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpCiAgICAgICAgY29kZVBvaW50IC09IDB4MTAwMDA7CiAgICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M2ZmIHwgMHhkODAwKTsKICAgICAgICBjb2RlUG9pbnQgPSAweGRjMDAgfCBjb2RlUG9pbnQgJiAweDNmZjsKICAgICAgfQoKICAgICAgcmVzLnB1c2goY29kZVBvaW50KTsKICAgICAgaSArPSBieXRlc1BlclNlcXVlbmNlOwogICAgfQoKICAgIHZhciBsZW4gPSByZXMubGVuZ3RoOwogICAgdmFyIHN0ciA9ICcnOwogICAgdmFyIGkgPSAwOwoKICAgIHdoaWxlIChpIDwgbGVuKSB7CiAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgcmVzLnNsaWNlKGksIGkgKz0gMHgxMDAwKSk7CiAgICB9CgogICAgcmV0dXJuIHN0cjsKICB9IC8vIHN0cmluZyAtPiBidWZmZXIKCgogIHZhciB0ZXh0RW5jb2RlID0gdHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nID8gVGV4dEVuY29kZXIucHJvdG90eXBlLmVuY29kZS5iaW5kKG5ldyBUZXh0RW5jb2RlcigpKSA6IHN0cmluZ0VuY29kZTsgLy8gYnVmZmVyIC0+IHN0cmluZwoKICB2YXIgdGV4dERlY29kZSA9IHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IFRleHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUuYmluZChuZXcgVGV4dERlY29kZXIoKSkgOiBzdHJpbmdEZWNvZGU7CgogIGZ1bmN0aW9uIEZha2VCbG9iQnVpbGRlcigpIHsKICAgIGZ1bmN0aW9uIGlzRGF0YVZpZXcob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHsKICAgICAgdmFyIHZpZXcgPSBuZXcgQXJyYXkoYnVmLmJ5dGVMZW5ndGgpOwogICAgICB2YXIgYXJyYXkgPSBuZXcgVWludDhBcnJheShidWYpOwogICAgICB2YXIgaSA9IHZpZXcubGVuZ3RoOwoKICAgICAgd2hpbGUgKGktLSkgewogICAgICAgIHZpZXdbaV0gPSBhcnJheVtpXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZpZXc7CiAgICB9CgogICAgZnVuY3Rpb24gYXJyYXkyYmFzZTY0KGlucHV0KSB7CiAgICAgIHZhciBieXRlVG9DaGFyTWFwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JzsKICAgICAgdmFyIG91dHB1dCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMykgewogICAgICAgIHZhciBieXRlMSA9IGlucHV0W2ldOwogICAgICAgIHZhciBoYXZlQnl0ZTIgPSBpICsgMSA8IGlucHV0Lmxlbmd0aDsKICAgICAgICB2YXIgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBpbnB1dFtpICsgMV0gOiAwOwogICAgICAgIHZhciBoYXZlQnl0ZTMgPSBpICsgMiA8IGlucHV0Lmxlbmd0aDsKICAgICAgICB2YXIgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBpbnB1dFtpICsgMl0gOiAwOwogICAgICAgIHZhciBvdXRCeXRlMSA9IGJ5dGUxID4+IDI7CiAgICAgICAgdmFyIG91dEJ5dGUyID0gKGJ5dGUxICYgMHgwMykgPDwgNCB8IGJ5dGUyID4+IDQ7CiAgICAgICAgdmFyIG91dEJ5dGUzID0gKGJ5dGUyICYgMHgwZikgPDwgMiB8IGJ5dGUzID4+IDY7CiAgICAgICAgdmFyIG91dEJ5dGU0ID0gYnl0ZTMgJiAweDNmOwoKICAgICAgICBpZiAoIWhhdmVCeXRlMykgewogICAgICAgICAgb3V0Qnl0ZTQgPSA2NDsKCiAgICAgICAgICBpZiAoIWhhdmVCeXRlMikgewogICAgICAgICAgICBvdXRCeXRlMyA9IDY0OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgb3V0cHV0LnB1c2goYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMV0sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTJdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUzXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlNF0pOwogICAgICB9CgogICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpOwogICAgfQoKICAgIHZhciBjcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIChhKSB7CiAgICAgIGZ1bmN0aW9uIGMoKSB7fQoKICAgICAgYy5wcm90b3R5cGUgPSBhOwogICAgICByZXR1cm4gbmV3IGMoKTsKICAgIH07CgogICAgaWYgKGFycmF5QnVmZmVyU3VwcG9ydGVkKSB7CiAgICAgIHZhciB2aWV3Q2xhc3NlcyA9IFsnW29iamVjdCBJbnQ4QXJyYXldJywgJ1tvYmplY3QgVWludDhBcnJheV0nLCAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLCAnW29iamVjdCBJbnQxNkFycmF5XScsICdbb2JqZWN0IFVpbnQxNkFycmF5XScsICdbb2JqZWN0IEludDMyQXJyYXldJywgJ1tvYmplY3QgVWludDMyQXJyYXldJywgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXTsKCiAgICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xOwogICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbmNhdFR5cGVkYXJyYXlzKGNodW5rcykgewogICAgICB2YXIgc2l6ZSA9IDA7CiAgICAgIHZhciBpID0gY2h1bmtzLmxlbmd0aDsKCiAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICBzaXplICs9IGNodW5rc1tpXS5sZW5ndGg7CiAgICAgIH0KCiAgICAgIHZhciBiID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7CiAgICAgIHZhciBvZmZzZXQgPSAwOwoKICAgICAgZm9yIChpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIgY2h1bmsgPSBjaHVua3NbaV07CiAgICAgICAgYi5zZXQoY2h1bmssIG9mZnNldCk7CiAgICAgICAgb2Zmc2V0ICs9IGNodW5rLmJ5dGVMZW5ndGggfHwgY2h1bmsubGVuZ3RoOwogICAgICB9CgogICAgICByZXR1cm4gYjsKICAgIH0KICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCiAgICAvKiAgICAgICAgICAgICAgICAgICBCbG9iIGNvbnN0cnVjdG9yICAgICAgICAgICAgICAgICAgICovCgogICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCiAgICBmdW5jdGlvbiBCbG9iKGNodW5rcywgb3B0cykgewogICAgICBjaHVua3MgPSBjaHVua3MgfHwgW107CiAgICAgIG9wdHMgPSBvcHRzID09IG51bGwgPyB7fSA6IG9wdHM7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2h1bmtzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgdmFyIGNodW5rID0gY2h1bmtzW2ldOwoKICAgICAgICBpZiAoY2h1bmsgaW5zdGFuY2VvZiBCbG9iKSB7CiAgICAgICAgICBjaHVua3NbaV0gPSBjaHVuay5fYnVmZmVyOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykgewogICAgICAgICAgY2h1bmtzW2ldID0gdGV4dEVuY29kZShjaHVuayk7CiAgICAgICAgfSBlbHNlIGlmIChhcnJheUJ1ZmZlclN1cHBvcnRlZCAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoY2h1bmspIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGNodW5rKSkpIHsKICAgICAgICAgIGNodW5rc1tpXSA9IGJ1ZmZlckNsb25lKGNodW5rKTsKICAgICAgICB9IGVsc2UgaWYgKGFycmF5QnVmZmVyU3VwcG9ydGVkICYmIGlzRGF0YVZpZXcoY2h1bmspKSB7CiAgICAgICAgICBjaHVua3NbaV0gPSBidWZmZXJDbG9uZShjaHVuay5idWZmZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjaHVua3NbaV0gPSB0ZXh0RW5jb2RlKFN0cmluZyhjaHVuaykpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5fYnVmZmVyID0gZ2xvYmFsLlVpbnQ4QXJyYXkgPyBjb25jYXRUeXBlZGFycmF5cyhjaHVua3MpIDogW10uY29uY2F0LmFwcGx5KFtdLCBjaHVua3MpOwogICAgICB0aGlzLnNpemUgPSB0aGlzLl9idWZmZXIubGVuZ3RoOwogICAgICB0aGlzLnR5cGUgPSBvcHRzLnR5cGUgfHwgJyc7CgogICAgICBpZiAoL1teXHUwMDIwLVx1MDA3RV0vLnRlc3QodGhpcy50eXBlKSkgewogICAgICAgIHRoaXMudHlwZSA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudHlwZSA9IHRoaXMudHlwZS50b0xvd2VyQ2FzZSgpOwogICAgICB9CiAgICB9CgogICAgQmxvYi5wcm90b3R5cGUuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYnVmZmVyKTsKICAgIH07CgogICAgQmxvYi5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0RGVjb2RlKHRoaXMuX2J1ZmZlcikpOwogICAgfTsKCiAgICBCbG9iLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCB0eXBlKSB7CiAgICAgIHZhciBzbGljZSA9IHRoaXMuX2J1ZmZlci5zbGljZShzdGFydCB8fCAwLCBlbmQgfHwgdGhpcy5fYnVmZmVyLmxlbmd0aCk7CgogICAgICByZXR1cm4gbmV3IEJsb2IoW3NsaWNlXSwgewogICAgICAgIHR5cGU6IHR5cGUKICAgICAgfSk7CiAgICB9OwoKICAgIEJsb2IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJ1tvYmplY3QgQmxvYl0nOwogICAgfTsKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCiAgICAvKiAgICAgICAgICAgICAgICAgICBGaWxlIGNvbnN0cnVjdG9yICAgICAgICAgICAgICAgICAgICovCgogICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCiAgICBmdW5jdGlvbiBGaWxlKGNodW5rcywgbmFtZSwgb3B0cykgewogICAgICBvcHRzID0gb3B0cyB8fCB7fTsKICAgICAgdmFyIGEgPSBCbG9iLmNhbGwodGhpcywgY2h1bmtzLCBvcHRzKSB8fCB0aGlzOwogICAgICBhLm5hbWUgPSBuYW1lLnJlcGxhY2UoL1wvL2csICc6Jyk7CiAgICAgIGEubGFzdE1vZGlmaWVkRGF0ZSA9IG9wdHMubGFzdE1vZGlmaWVkID8gbmV3IERhdGUob3B0cy5sYXN0TW9kaWZpZWQpIDogbmV3IERhdGUoKTsKICAgICAgYS5sYXN0TW9kaWZpZWQgPSArYS5sYXN0TW9kaWZpZWREYXRlOwogICAgICByZXR1cm4gYTsKICAgIH0KCiAgICBGaWxlLnByb3RvdHlwZSA9IGNyZWF0ZShCbG9iLnByb3RvdHlwZSk7CiAgICBGaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZpbGU7CgogICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgewogICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoRmlsZSwgQmxvYik7CiAgICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIEZpbGUuX19wcm90b19fID0gQmxvYjsKICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0KCiAgICBGaWxlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICdbb2JqZWN0IEZpbGVdJzsKICAgIH07CiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogICAgLyogICAgICAgICAgICAgICAgRmlsZVJlYWRlciBjb25zdHJ1Y3RvciAgICAgICAgICAgICAgICAqLwoKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgogICAgZnVuY3Rpb24gRmlsZVJlYWRlcigpIHsKICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZpbGVSZWFkZXIpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRmFpbGVkIHRvIGNvbnN0cnVjdCAnRmlsZVJlYWRlcic6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpOwogICAgICB9CgogICAgICB2YXIgZGVsZWdhdGUgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IGRlbGVnYXRlLmFkZEV2ZW50TGlzdGVuZXI7CgogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgdmFyIGxvY2FsID0gdGhpc1snb24nICsgZXZ0LnR5cGVdOwogICAgICAgIGlmICh0eXBlb2YgbG9jYWwgPT09ICdmdW5jdGlvbicpIGxvY2FsKGV2dCk7CiAgICAgICAgZGVsZWdhdGUuZGlzcGF0Y2hFdmVudChldnQpOwogICAgICB9OwoKICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gZGVsZWdhdGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmVhZChmciwgYmxvYiwga2luZCkgewogICAgICBpZiAoIShibG9iIGluc3RhbmNlb2YgQmxvYikpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJGYWlsZWQgdG8gZXhlY3V0ZSAnIiArIGtpbmQgKyAiJyBvbiAnRmlsZVJlYWRlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdCbG9iJy4iKTsKICAgICAgfQoKICAgICAgZnIucmVzdWx0ID0gJyc7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IEZpbGVSZWFkZXIuTE9BRElORzsKICAgICAgICBmci5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbG9hZCcpKTsKICAgICAgICBmci5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbG9hZGVuZCcpKTsKICAgICAgfSk7CiAgICB9CgogICAgRmlsZVJlYWRlci5FTVBUWSA9IDA7CiAgICBGaWxlUmVhZGVyLkxPQURJTkcgPSAxOwogICAgRmlsZVJlYWRlci5ET05FID0gMjsKICAgIEZpbGVSZWFkZXIucHJvdG90eXBlLmVycm9yID0gbnVsbDsKICAgIEZpbGVSZWFkZXIucHJvdG90eXBlLm9uYWJvcnQgPSBudWxsOwogICAgRmlsZVJlYWRlci5wcm90b3R5cGUub25lcnJvciA9IG51bGw7CiAgICBGaWxlUmVhZGVyLnByb3RvdHlwZS5vbmxvYWQgPSBudWxsOwogICAgRmlsZVJlYWRlci5wcm90b3R5cGUub25sb2FkZW5kID0gbnVsbDsKICAgIEZpbGVSZWFkZXIucHJvdG90eXBlLm9ubG9hZHN0YXJ0ID0gbnVsbDsKICAgIEZpbGVSZWFkZXIucHJvdG90eXBlLm9ucHJvZ3Jlc3MgPSBudWxsOwoKICAgIEZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc0RhdGFVUkwgPSBmdW5jdGlvbiAoYmxvYikgewogICAgICBfcmVhZCh0aGlzLCBibG9iLCAncmVhZEFzRGF0YVVSTCcpOwoKICAgICAgdGhpcy5yZXN1bHQgPSAnZGF0YTonICsgYmxvYi50eXBlICsgJztiYXNlNjQsJyArIGFycmF5MmJhc2U2NChibG9iLl9idWZmZXIpOwogICAgfTsKCiAgICBGaWxlUmVhZGVyLnByb3RvdHlwZS5yZWFkQXNUZXh0ID0gZnVuY3Rpb24gKGJsb2IpIHsKICAgICAgX3JlYWQodGhpcywgYmxvYiwgJ3JlYWRBc1RleHQnKTsKCiAgICAgIHRoaXMucmVzdWx0ID0gdGV4dERlY29kZShibG9iLl9idWZmZXIpOwogICAgfTsKCiAgICBGaWxlUmVhZGVyLnByb3RvdHlwZS5yZWFkQXNBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uIChibG9iKSB7CiAgICAgIF9yZWFkKHRoaXMsIGJsb2IsICdyZWFkQXNUZXh0Jyk7IC8vIHJldHVybiBBcnJheUJ1ZmZlciB3aGVuIHBvc3NpYmxlCgoKICAgICAgdGhpcy5yZXN1bHQgPSAoYmxvYi5fYnVmZmVyLmJ1ZmZlciB8fCBibG9iLl9idWZmZXIpLnNsaWNlKCk7CiAgICB9OwoKICAgIEZpbGVSZWFkZXIucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKCkge307CiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgVVJMICAgICAgICAgICAgICAgICAgICAgICAgICAqLwoKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgogICAgVVJMLmNyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uIChibG9iKSB7CiAgICAgIHJldHVybiBibG9iIGluc3RhbmNlb2YgQmxvYiA/ICdkYXRhOicgKyBibG9iLnR5cGUgKyAnO2Jhc2U2NCwnICsgYXJyYXkyYmFzZTY0KGJsb2IuX2J1ZmZlcikgOiBjcmVhdGVPYmplY3RVUkwuY2FsbChVUkwsIGJsb2IpOwogICAgfTsKCiAgICBVUkwucmV2b2tlT2JqZWN0VVJMID0gZnVuY3Rpb24gKHVybCkgewogICAgICByZXZva2VPYmplY3RVUkwgJiYgcmV2b2tlT2JqZWN0VVJMLmNhbGwoVVJMLCB1cmwpOwogICAgfTsKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICBYSFIgICAgICAgICAgICAgICAgICAgICAgICAgICovCgogICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCiAgICB2YXIgX3NlbmQgPSBnbG9iYWwuWE1MSHR0cFJlcXVlc3QgJiYgZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kOwoKICAgIGlmIChfc2VuZCkgewogICAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7CiAgICAgICAgICB0aGlzLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsIGRhdGEudHlwZSk7CgogICAgICAgICAgX3NlbmQuY2FsbCh0aGlzLCB0ZXh0RGVjb2RlKGRhdGEuX2J1ZmZlcikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfc2VuZC5jYWxsKHRoaXMsIGRhdGEpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgICBnbG9iYWwuRmlsZVJlYWRlciA9IEZpbGVSZWFkZXI7CiAgICBnbG9iYWwuRmlsZSA9IEZpbGU7CiAgICBnbG9iYWwuQmxvYiA9IEJsb2I7CiAgfQoKICBmdW5jdGlvbiBmaXhGaWxlQW5kWEhSKCkgewogICAgdmFyIGlzSUUgPSAhIWdsb2JhbC5BY3RpdmVYT2JqZWN0IHx8ICctbXMtc2Nyb2xsLWxpbWl0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgJy1tcy1pbWUtYWxpZ24nIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTsgLy8gTW9ua2V5IHBhdGNoZWQKICAgIC8vIElFIGRvbid0IHNldCBDb250ZW50LVR5cGUgaGVhZGVyIG9uIFhIUiB3aG9zZSBib2R5IGlzIGEgdHlwZWQgQmxvYgogICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvNjA0NzM4MwoKICAgIHZhciBfc2VuZCA9IGdsb2JhbC5YTUxIdHRwUmVxdWVzdCAmJiBnbG9iYWwuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7CgogICAgaWYgKGlzSUUgJiYgX3NlbmQpIHsKICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikgewogICAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCBkYXRhLnR5cGUpOwoKICAgICAgICAgIF9zZW5kLmNhbGwodGhpcywgZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF9zZW5kLmNhbGwodGhpcywgZGF0YSk7CiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIHRyeSB7CiAgICAgIG5ldyBGaWxlKFtdLCAnJyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGtsYXNzID0gbmV3IEZ1bmN0aW9uKCdjbGFzcyBGaWxlIGV4dGVuZHMgQmxvYiB7JyArICdjb25zdHJ1Y3RvcihjaHVua3MsIG5hbWUsIG9wdHMpIHsnICsgJ29wdHMgPSBvcHRzIHx8IHt9OycgKyAnc3VwZXIoY2h1bmtzLCBvcHRzIHx8IHt9KTsnICsgJ3RoaXMubmFtZSA9IG5hbWUucmVwbGFjZSgvLy9nLCAiOiIpOycgKyAndGhpcy5sYXN0TW9kaWZpZWREYXRlID0gb3B0cy5sYXN0TW9kaWZpZWQgPyBuZXcgRGF0ZShvcHRzLmxhc3RNb2RpZmllZCkgOiBuZXcgRGF0ZSgpOycgKyAndGhpcy5sYXN0TW9kaWZpZWQgPSArdGhpcy5sYXN0TW9kaWZpZWREYXRlOycgKyAnfX07JyArICdyZXR1cm4gbmV3IEZpbGUoW10sICIiKSwgRmlsZScpKCk7CiAgICAgICAgZ2xvYmFsLkZpbGUgPSBrbGFzczsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHZhciBrbGFzcyA9IGZ1bmN0aW9uIGtsYXNzKGIsIGQsIGMpIHsKICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoYiwgYyk7CiAgICAgICAgICB2YXIgdCA9IGMgJiYgdm9pZCAwICE9PSBjLmxhc3RNb2RpZmllZCA/IG5ldyBEYXRlKGMubGFzdE1vZGlmaWVkKSA6IG5ldyBEYXRlKCk7CiAgICAgICAgICBibG9iLm5hbWUgPSBkLnJlcGxhY2UoL1wvL2csICc6Jyk7CiAgICAgICAgICBibG9iLmxhc3RNb2RpZmllZERhdGUgPSB0OwogICAgICAgICAgYmxvYi5sYXN0TW9kaWZpZWQgPSArdDsKCiAgICAgICAgICBibG9iLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gJ1tvYmplY3QgRmlsZV0nOwogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAoc3RyVGFnKSB7CiAgICAgICAgICAgIGJsb2Jbc3RyVGFnXSA9ICdGaWxlJzsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gYmxvYjsKICAgICAgICB9OwoKICAgICAgICBnbG9iYWwuRmlsZSA9IGtsYXNzOwogICAgICB9CiAgICB9CiAgfQoKICBpZiAoYmxvYlN1cHBvcnRlZCkgewogICAgZml4RmlsZUFuZFhIUigpOwogICAgZ2xvYmFsLkJsb2IgPSBibG9iU3VwcG9ydHNBcnJheUJ1ZmZlclZpZXcgPyBnbG9iYWwuQmxvYiA6IEJsb2JDb25zdHJ1Y3RvcjsKICB9IGVsc2UgaWYgKGJsb2JCdWlsZGVyU3VwcG9ydGVkKSB7CiAgICBmaXhGaWxlQW5kWEhSKCk7CiAgICBnbG9iYWwuQmxvYiA9IEJsb2JCdWlsZGVyQ29uc3RydWN0b3I7CiAgfSBlbHNlIHsKICAgIEZha2VCbG9iQnVpbGRlcigpOwogIH0KCiAgaWYgKHN0clRhZykgewogICAgRmlsZS5wcm90b3R5cGVbc3RyVGFnXSA9ICdGaWxlJzsKICAgIEJsb2IucHJvdG90eXBlW3N0clRhZ10gPSAnQmxvYic7CiAgICBGaWxlUmVhZGVyLnByb3RvdHlwZVtzdHJUYWddID0gJ0ZpbGVSZWFkZXInOwogIH0KCiAgdmFyIGJsb2IgPSBnbG9iYWwuQmxvYi5wcm90b3R5cGU7CiAgdmFyIHN0cmVhbTsKCiAgZnVuY3Rpb24gcHJvbWlzaWZ5KG9iaikgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgb2JqLm9ubG9hZCA9IG9iai5vbmVycm9yID0gZnVuY3Rpb24gKGV2dCkgewogICAgICAgIG9iai5vbmxvYWQgPSBvYmoub25lcnJvciA9IG51bGw7CiAgICAgICAgZXZ0LnR5cGUgPT09ICdsb2FkJyA/IHJlc29sdmUob2JqLnJlc3VsdCB8fCBvYmopIDogcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgdGhlIGJsb2IvZmlsZScpKTsKICAgICAgfTsKICAgIH0pOwogIH0KCiAgdHJ5IHsKICAgIG5ldyBSZWFkYWJsZVN0cmVhbSh7CiAgICAgIHR5cGU6ICdieXRlcycKICAgIH0pOwoKICAgIHN0cmVhbSA9IGZ1bmN0aW9uIHN0cmVhbSgpIHsKICAgICAgdmFyIHBvc2l0aW9uID0gMDsKICAgICAgdmFyIGJsb2IgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHsKICAgICAgICB0eXBlOiAnYnl0ZXMnLAogICAgICAgIGF1dG9BbGxvY2F0ZUNodW5rU2l6ZTogNTI0Mjg4LAogICAgICAgIHB1bGw6IGZ1bmN0aW9uIHB1bGwoY29udHJvbGxlcikgewogICAgICAgICAgdmFyIHYgPSBjb250cm9sbGVyLmJ5b2JSZXF1ZXN0LnZpZXc7CiAgICAgICAgICB2YXIgY2h1bmsgPSBibG9iLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHYuYnl0ZUxlbmd0aCk7CiAgICAgICAgICByZXR1cm4gY2h1bmsuYXJyYXlCdWZmZXIoKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHsKICAgICAgICAgICAgdmFyIHVpbnQ4YXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIpOwogICAgICAgICAgICB2YXIgYnl0ZXNSZWFkID0gdWludDhhcnJheS5ieXRlTGVuZ3RoOwogICAgICAgICAgICBwb3NpdGlvbiArPSBieXRlc1JlYWQ7CiAgICAgICAgICAgIHYuc2V0KHVpbnQ4YXJyYXkpOwogICAgICAgICAgICBjb250cm9sbGVyLmJ5b2JSZXF1ZXN0LnJlc3BvbmQoYnl0ZXNSZWFkKTsKICAgICAgICAgICAgaWYgKHBvc2l0aW9uID49IGJsb2Iuc2l6ZSkgY29udHJvbGxlci5jbG9zZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfSBjYXRjaCAoZSkgewogICAgdHJ5IHsKICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHt9KTsKCiAgICAgIHN0cmVhbSA9IGZ1bmN0aW9uIHN0cmVhbShibG9iKSB7CiAgICAgICAgdmFyIHBvc2l0aW9uID0gMDsKICAgICAgICB2YXIgYmxvYiA9IHRoaXM7CiAgICAgICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7CiAgICAgICAgICBwdWxsOiBmdW5jdGlvbiBwdWxsKGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgdmFyIGNodW5rID0gYmxvYi5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyA1MjQyODgpOwogICAgICAgICAgICByZXR1cm4gY2h1bmsuYXJyYXlCdWZmZXIoKS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHsKICAgICAgICAgICAgICBwb3NpdGlvbiArPSBidWZmZXIuYnl0ZUxlbmd0aDsKICAgICAgICAgICAgICB2YXIgdWludDhhcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7CiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHVpbnQ4YXJyYXkpOwogICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PSBibG9iLnNpemUpIGNvbnRyb2xsZXIuY2xvc2UoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbmV3IFJlc3BvbnNlKCcnKS5ib2R5LmdldFJlYWRlcigpLnJlYWQoKTsKCiAgICAgICAgc3RyZWFtID0gZnVuY3Rpb24gc3RyZWFtKCkgewogICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzKS5ib2R5OwogICAgICAgIH07CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBzdHJlYW0gPSBmdW5jdGlvbiBzdHJlYW0oKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY2x1ZGUgaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsJyk7CiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0KCiAgaWYgKCFibG9iLmFycmF5QnVmZmVyKSB7CiAgICBibG9iLmFycmF5QnVmZmVyID0gZnVuY3Rpb24gYXJyYXlCdWZmZXIoKSB7CiAgICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIGZyLnJlYWRBc0FycmF5QnVmZmVyKHRoaXMpOwogICAgICByZXR1cm4gcHJvbWlzaWZ5KGZyKTsKICAgIH07CiAgfQoKICBpZiAoIWJsb2IudGV4dCkgewogICAgYmxvYi50ZXh0ID0gZnVuY3Rpb24gdGV4dCgpIHsKICAgICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgZnIucmVhZEFzVGV4dCh0aGlzKTsKICAgICAgcmV0dXJuIHByb21pc2lmeShmcik7CiAgICB9OwogIH0KCiAgaWYgKCFibG9iLnN0cmVhbSkgewogICAgYmxvYi5zdHJlYW0gPSBzdHJlYW07CiAgfQp9KSgpOw=="},{"version":3,"sources":["/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/vendor/Blob.js"],"names":["global","window","self","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","URL","webkitURL","href","a","document","createElement","origBlob","Blob","createObjectURL","revokeObjectURL","strTag","Symbol","toStringTag","blobSupported","blobSupportsArrayBufferView","arrayBufferSupported","ArrayBuffer","blobBuilderSupported","prototype","append","getBlob","size","Uint8Array","e","mapArrayBufferViews","ary","map","chunk","buffer","buf","byteLength","copy","set","byteOffset","BlobBuilderConstructor","options","bb","forEach","part","type","BlobConstructor","stringEncode","string","pos","len","length","out","Arr","Array","at","tlen","Math","max","target","value","charCodeAt","extra","update","slice","stringDecode","end","res","i","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","push","str","String","fromCharCode","apply","textEncode","TextEncoder","encode","bind","textDecode","TextDecoder","decode","FakeBlobBuilder","isDataView","obj","DataView","isPrototypeOf","bufferClone","view","array","array2base64","input","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","join","create","Object","c","viewClasses","isArrayBufferView","isView","indexOf","toString","call","concatTypedarrays","chunks","b","offset","l","opts","_buffer","concat","test","toLowerCase","arrayBuffer","Promise","resolve","text","start","File","name","replace","lastModifiedDate","lastModified","Date","constructor","setPrototypeOf","__proto__","FileReader","TypeError","delegate","createDocumentFragment","addEventListener","dispatchEvent","evt","local","removeEventListener","_read","fr","blob","kind","result","setTimeout","readyState","LOADING","Event","EMPTY","DONE","error","onabort","onerror","onload","onloadend","onloadstart","onprogress","readAsDataURL","readAsText","readAsArrayBuffer","abort","url","_send","XMLHttpRequest","send","data","setRequestHeader","fixFileAndXHR","isIE","ActiveXObject","documentElement","style","klass","Function","d","t","stream","promisify","reject","Error","ReadableStream","position","autoAllocateChunkSize","pull","controller","v","byobRequest","then","uint8array","bytesRead","respond","close","enqueue","Response","body","getReader","read"],"mappings":"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","sourcesContent":["(function() {\n  var global =\n    typeof window === 'object' ? window : typeof self === 'object' ? self : this\n\n  var BlobBuilder =\n    global.BlobBuilder ||\n    global.WebKitBlobBuilder ||\n    global.MSBlobBuilder ||\n    global.MozBlobBuilder\n\n  global.URL =\n    global.URL ||\n    global.webkitURL ||\n    function(href, a) {\n      a = document.createElement('a')\n      a.href = href\n      return a\n    }\n\n  var origBlob = global.Blob\n  var createObjectURL = URL.createObjectURL\n  var revokeObjectURL = URL.revokeObjectURL\n  var strTag = global.Symbol && global.Symbol.toStringTag\n  var blobSupported = false\n  var blobSupportsArrayBufferView = false\n  var arrayBufferSupported = !!global.ArrayBuffer\n  var blobBuilderSupported =\n    BlobBuilder && BlobBuilder.prototype.append && BlobBuilder.prototype.getBlob\n\n  try {\n    // Check if Blob constructor is supported\n    blobSupported = new Blob(['ä']).size === 2\n\n    // Check if Blob constructor supports ArrayBufferViews\n    // Fails in Safari 6, so we need to map to ArrayBuffers there.\n    blobSupportsArrayBufferView = new Blob([new Uint8Array([1, 2])]).size === 2\n  } catch (e) {}\n\n  /**\n   * Helper function that maps ArrayBufferViews to ArrayBuffers\n   * Used by BlobBuilder constructor and old browsers that didn't\n   * support it in the Blob constructor.\n   */\n  function mapArrayBufferViews(ary) {\n    return ary.map(function(chunk) {\n      if (chunk.buffer instanceof ArrayBuffer) {\n        var buf = chunk.buffer\n\n        // if this is a subarray, make a copy so we only\n        // include the subarray region from the underlying buffer\n        if (chunk.byteLength !== buf.byteLength) {\n          var copy = new Uint8Array(chunk.byteLength)\n          copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength))\n          buf = copy.buffer\n        }\n\n        return buf\n      }\n\n      return chunk\n    })\n  }\n\n  function BlobBuilderConstructor(ary, options) {\n    options = options || {}\n\n    var bb = new BlobBuilder()\n    mapArrayBufferViews(ary).forEach(function(part) {\n      bb.append(part)\n    })\n\n    return options.type ? bb.getBlob(options.type) : bb.getBlob()\n  }\n\n  function BlobConstructor(ary, options) {\n    return new origBlob(mapArrayBufferViews(ary), options || {})\n  }\n\n  if (global.Blob) {\n    BlobBuilderConstructor.prototype = Blob.prototype\n    BlobConstructor.prototype = Blob.prototype\n  }\n\n  /********************************************************/\n  /*               String Encoder fallback                */\n  /********************************************************/\n  function stringEncode(string) {\n    var pos = 0\n    var len = string.length\n    var out = []\n    var Arr = global.Uint8Array || Array // Use byte array when possible\n\n    var at = 0 // output position\n    var tlen = Math.max(32, len + (len >> 1) + 7) // 1.5x size\n    var target = new Arr((tlen >> 3) << 3) // ... but at 8 byte offset\n\n    while (pos < len) {\n      var value = string.charCodeAt(pos++)\n      if (value >= 0xd800 && value <= 0xdbff) {\n        // high surrogate\n        if (pos < len) {\n          var extra = string.charCodeAt(pos)\n          if ((extra & 0xfc00) === 0xdc00) {\n            ++pos\n            value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n          }\n        }\n        if (value >= 0xd800 && value <= 0xdbff) {\n          continue // drop lone surrogate\n        }\n      }\n\n      // expand the buffer if we couldn't write 4 bytes\n      if (at + 4 > target.length) {\n        tlen += 8 // minimum extra\n        tlen *= 1.0 + (pos / string.length) * 2 // take 2x the remaining\n        tlen = (tlen >> 3) << 3 // 8 byte offset\n\n        const update = new Uint8Array(tlen)\n        update.set(target)\n        target = update\n      }\n\n      if ((value & 0xffffff80) === 0) {\n        // 1-byte\n        target[at++] = value // ASCII\n        continue\n      } else if ((value & 0xfffff800) === 0) {\n        // 2-byte\n        target[at++] = ((value >> 6) & 0x1f) | 0xc0\n      } else if ((value & 0xffff0000) === 0) {\n        // 3-byte\n        target[at++] = ((value >> 12) & 0x0f) | 0xe0\n        target[at++] = ((value >> 6) & 0x3f) | 0x80\n      } else if ((value & 0xffe00000) === 0) {\n        // 4-byte\n        target[at++] = ((value >> 18) & 0x07) | 0xf0\n        target[at++] = ((value >> 12) & 0x3f) | 0x80\n        target[at++] = ((value >> 6) & 0x3f) | 0x80\n      } else {\n        // FIXME: do we care\n        continue\n      }\n\n      target[at++] = (value & 0x3f) | 0x80\n    }\n\n    return target.slice(0, at)\n  }\n\n  /********************************************************/\n  /*               String Decoder fallback                */\n  /********************************************************/\n  function stringDecode(buf) {\n    var end = buf.length\n    var res = []\n\n    var i = 0\n    while (i < end) {\n      var firstByte = buf[i]\n      var codePoint = null\n      var bytesPerSequence =\n        firstByte > 0xef ? 4 : firstByte > 0xdf ? 3 : firstByte > 0xbf ? 2 : 1\n\n      if (i + bytesPerSequence <= end) {\n        var secondByte, thirdByte, fourthByte, tempCodePoint\n\n        switch (bytesPerSequence) {\n          case 1:\n            if (firstByte < 0x80) {\n              codePoint = firstByte\n            }\n            break\n          case 2:\n            secondByte = buf[i + 1]\n            if ((secondByte & 0xc0) === 0x80) {\n              tempCodePoint = ((firstByte & 0x1f) << 0x6) | (secondByte & 0x3f)\n              if (tempCodePoint > 0x7f) {\n                codePoint = tempCodePoint\n              }\n            }\n            break\n          case 3:\n            secondByte = buf[i + 1]\n            thirdByte = buf[i + 2]\n            if ((secondByte & 0xc0) === 0x80 && (thirdByte & 0xc0) === 0x80) {\n              tempCodePoint =\n                ((firstByte & 0xf) << 0xc) |\n                ((secondByte & 0x3f) << 0x6) |\n                (thirdByte & 0x3f)\n              if (\n                tempCodePoint > 0x7ff &&\n                (tempCodePoint < 0xd800 || tempCodePoint > 0xdfff)\n              ) {\n                codePoint = tempCodePoint\n              }\n            }\n            break\n          case 4:\n            secondByte = buf[i + 1]\n            thirdByte = buf[i + 2]\n            fourthByte = buf[i + 3]\n            if (\n              (secondByte & 0xc0) === 0x80 &&\n              (thirdByte & 0xc0) === 0x80 &&\n              (fourthByte & 0xc0) === 0x80\n            ) {\n              tempCodePoint =\n                ((firstByte & 0xf) << 0x12) |\n                ((secondByte & 0x3f) << 0xc) |\n                ((thirdByte & 0x3f) << 0x6) |\n                (fourthByte & 0x3f)\n              if (tempCodePoint > 0xffff && tempCodePoint < 0x110000) {\n                codePoint = tempCodePoint\n              }\n            }\n        }\n      }\n\n      if (codePoint === null) {\n        // we did not generate a valid codePoint so insert a\n        // replacement char (U+FFFD) and advance only 1 byte\n        codePoint = 0xfffd\n        bytesPerSequence = 1\n      } else if (codePoint > 0xffff) {\n        // encode to utf16 (surrogate pair dance)\n        codePoint -= 0x10000\n        res.push(((codePoint >>> 10) & 0x3ff) | 0xd800)\n        codePoint = 0xdc00 | (codePoint & 0x3ff)\n      }\n\n      res.push(codePoint)\n      i += bytesPerSequence\n    }\n\n    var len = res.length\n    var str = ''\n    var i = 0\n\n    while (i < len) {\n      str += String.fromCharCode.apply(String, res.slice(i, (i += 0x1000)))\n    }\n\n    return str\n  }\n\n  // string -> buffer\n  var textEncode =\n    typeof TextEncoder === 'function'\n      ? TextEncoder.prototype.encode.bind(new TextEncoder())\n      : stringEncode\n\n  // buffer -> string\n  var textDecode =\n    typeof TextDecoder === 'function'\n      ? TextDecoder.prototype.decode.bind(new TextDecoder())\n      : stringDecode\n\n  function FakeBlobBuilder() {\n    function isDataView(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n    function bufferClone(buf) {\n      var view = new Array(buf.byteLength)\n      var array = new Uint8Array(buf)\n      var i = view.length\n      while (i--) {\n        view[i] = array[i]\n      }\n      return view\n    }\n    function array2base64(input) {\n      var byteToCharMap =\n        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\n      var output = []\n\n      for (var i = 0; i < input.length; i += 3) {\n        var byte1 = input[i]\n        var haveByte2 = i + 1 < input.length\n        var byte2 = haveByte2 ? input[i + 1] : 0\n        var haveByte3 = i + 2 < input.length\n        var byte3 = haveByte3 ? input[i + 2] : 0\n\n        var outByte1 = byte1 >> 2\n        var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4)\n        var outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6)\n        var outByte4 = byte3 & 0x3f\n\n        if (!haveByte3) {\n          outByte4 = 64\n\n          if (!haveByte2) {\n            outByte3 = 64\n          }\n        }\n\n        output.push(\n          byteToCharMap[outByte1],\n          byteToCharMap[outByte2],\n          byteToCharMap[outByte3],\n          byteToCharMap[outByte4]\n        )\n      }\n\n      return output.join('')\n    }\n\n    var create =\n      Object.create ||\n      function(a) {\n        function c() {}\n        c.prototype = a\n        return new c()\n      }\n\n    if (arrayBufferSupported) {\n      var viewClasses = [\n        '[object Int8Array]',\n        '[object Uint8Array]',\n        '[object Uint8ClampedArray]',\n        '[object Int16Array]',\n        '[object Uint16Array]',\n        '[object Int32Array]',\n        '[object Uint32Array]',\n        '[object Float32Array]',\n        '[object Float64Array]'\n      ]\n\n      var isArrayBufferView =\n        ArrayBuffer.isView ||\n        function(obj) {\n          return (\n            obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n          )\n        }\n    }\n\n    function concatTypedarrays(chunks) {\n      var size = 0\n      var i = chunks.length\n      while (i--) {\n        size += chunks[i].length\n      }\n      var b = new Uint8Array(size)\n      var offset = 0\n      for (i = 0, l = chunks.length; i < l; i++) {\n        var chunk = chunks[i]\n        b.set(chunk, offset)\n        offset += chunk.byteLength || chunk.length\n      }\n\n      return b\n    }\n\n    /********************************************************/\n    /*                   Blob constructor                   */\n    /********************************************************/\n    function Blob(chunks, opts) {\n      chunks = chunks || []\n      opts = opts == null ? {} : opts\n      for (var i = 0, len = chunks.length; i < len; i++) {\n        var chunk = chunks[i]\n        if (chunk instanceof Blob) {\n          chunks[i] = chunk._buffer\n        } else if (typeof chunk === 'string') {\n          chunks[i] = textEncode(chunk)\n        } else if (\n          arrayBufferSupported &&\n          (ArrayBuffer.prototype.isPrototypeOf(chunk) ||\n            isArrayBufferView(chunk))\n        ) {\n          chunks[i] = bufferClone(chunk)\n        } else if (arrayBufferSupported && isDataView(chunk)) {\n          chunks[i] = bufferClone(chunk.buffer)\n        } else {\n          chunks[i] = textEncode(String(chunk))\n        }\n      }\n\n      this._buffer = global.Uint8Array\n        ? concatTypedarrays(chunks)\n        : [].concat.apply([], chunks)\n      this.size = this._buffer.length\n\n      this.type = opts.type || ''\n      if (/[^\\u0020-\\u007E]/.test(this.type)) {\n        this.type = ''\n      } else {\n        this.type = this.type.toLowerCase()\n      }\n    }\n\n    Blob.prototype.arrayBuffer = function() {\n      return Promise.resolve(this._buffer)\n    }\n\n    Blob.prototype.text = function() {\n      return Promise.resolve(textDecode(this._buffer))\n    }\n\n    Blob.prototype.slice = function(start, end, type) {\n      var slice = this._buffer.slice(start || 0, end || this._buffer.length)\n      return new Blob([slice], { type: type })\n    }\n\n    Blob.prototype.toString = function() {\n      return '[object Blob]'\n    }\n\n    /********************************************************/\n    /*                   File constructor                   */\n    /********************************************************/\n    function File(chunks, name, opts) {\n      opts = opts || {}\n      var a = Blob.call(this, chunks, opts) || this\n      a.name = name.replace(/\\//g, ':')\n      a.lastModifiedDate = opts.lastModified\n        ? new Date(opts.lastModified)\n        : new Date()\n      a.lastModified = +a.lastModifiedDate\n\n      return a\n    }\n\n    File.prototype = create(Blob.prototype)\n    File.prototype.constructor = File\n\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(File, Blob)\n    } else {\n      try {\n        File.__proto__ = Blob\n      } catch (e) {}\n    }\n\n    File.prototype.toString = function() {\n      return '[object File]'\n    }\n\n    /********************************************************/\n    /*                FileReader constructor                */\n    /********************************************************/\n    function FileReader() {\n      if (!(this instanceof FileReader)) {\n        throw new TypeError(\n          \"Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\"\n        )\n      }\n\n      var delegate = document.createDocumentFragment()\n      this.addEventListener = delegate.addEventListener\n      this.dispatchEvent = function(evt) {\n        var local = this['on' + evt.type]\n        if (typeof local === 'function') local(evt)\n        delegate.dispatchEvent(evt)\n      }\n      this.removeEventListener = delegate.removeEventListener\n    }\n\n    function _read(fr, blob, kind) {\n      if (!(blob instanceof Blob)) {\n        throw new TypeError(\n          \"Failed to execute '\" +\n            kind +\n            \"' on 'FileReader': parameter 1 is not of type 'Blob'.\"\n        )\n      }\n\n      fr.result = ''\n\n      setTimeout(function() {\n        this.readyState = FileReader.LOADING\n        fr.dispatchEvent(new Event('load'))\n        fr.dispatchEvent(new Event('loadend'))\n      })\n    }\n\n    FileReader.EMPTY = 0\n    FileReader.LOADING = 1\n    FileReader.DONE = 2\n    FileReader.prototype.error = null\n    FileReader.prototype.onabort = null\n    FileReader.prototype.onerror = null\n    FileReader.prototype.onload = null\n    FileReader.prototype.onloadend = null\n    FileReader.prototype.onloadstart = null\n    FileReader.prototype.onprogress = null\n\n    FileReader.prototype.readAsDataURL = function(blob) {\n      _read(this, blob, 'readAsDataURL')\n      this.result =\n        'data:' + blob.type + ';base64,' + array2base64(blob._buffer)\n    }\n\n    FileReader.prototype.readAsText = function(blob) {\n      _read(this, blob, 'readAsText')\n      this.result = textDecode(blob._buffer)\n    }\n\n    FileReader.prototype.readAsArrayBuffer = function(blob) {\n      _read(this, blob, 'readAsText')\n      // return ArrayBuffer when possible\n      this.result = (blob._buffer.buffer || blob._buffer).slice()\n    }\n\n    FileReader.prototype.abort = function() {}\n\n    /********************************************************/\n    /*                         URL                          */\n    /********************************************************/\n    URL.createObjectURL = function(blob) {\n      return blob instanceof Blob\n        ? 'data:' + blob.type + ';base64,' + array2base64(blob._buffer)\n        : createObjectURL.call(URL, blob)\n    }\n\n    URL.revokeObjectURL = function(url) {\n      revokeObjectURL && revokeObjectURL.call(URL, url)\n    }\n\n    /********************************************************/\n    /*                         XHR                          */\n    /********************************************************/\n    var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\n    if (_send) {\n      XMLHttpRequest.prototype.send = function(data) {\n        if (data instanceof Blob) {\n          this.setRequestHeader('Content-Type', data.type)\n          _send.call(this, textDecode(data._buffer))\n        } else {\n          _send.call(this, data)\n        }\n      }\n    }\n\n    global.FileReader = FileReader\n    global.File = File\n    global.Blob = Blob\n  }\n\n  function fixFileAndXHR() {\n    var isIE =\n      !!global.ActiveXObject ||\n      ('-ms-scroll-limit' in document.documentElement.style &&\n        '-ms-ime-align' in document.documentElement.style)\n\n    // Monkey patched\n    // IE don't set Content-Type header on XHR whose body is a typed Blob\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/6047383\n    var _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send\n    if (isIE && _send) {\n      XMLHttpRequest.prototype.send = function(data) {\n        if (data instanceof Blob) {\n          this.setRequestHeader('Content-Type', data.type)\n          _send.call(this, data)\n        } else {\n          _send.call(this, data)\n        }\n      }\n    }\n\n    try {\n      new File([], '')\n    } catch (e) {\n      try {\n        var klass = new Function(\n          'class File extends Blob {' +\n            'constructor(chunks, name, opts) {' +\n            'opts = opts || {};' +\n            'super(chunks, opts || {});' +\n            'this.name = name.replace(///g, \":\");' +\n            'this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();' +\n            'this.lastModified = +this.lastModifiedDate;' +\n            '}};' +\n            'return new File([], \"\"), File'\n        )()\n        global.File = klass\n      } catch (e) {\n        var klass = function(b, d, c) {\n          var blob = new Blob(b, c)\n          var t =\n            c && void 0 !== c.lastModified\n              ? new Date(c.lastModified)\n              : new Date()\n\n          blob.name = d.replace(/\\//g, ':')\n          blob.lastModifiedDate = t\n          blob.lastModified = +t\n          blob.toString = function() {\n            return '[object File]'\n          }\n\n          if (strTag) {\n            blob[strTag] = 'File'\n          }\n\n          return blob\n        }\n        global.File = klass\n      }\n    }\n  }\n\n  if (blobSupported) {\n    fixFileAndXHR()\n    global.Blob = blobSupportsArrayBufferView ? global.Blob : BlobConstructor\n  } else if (blobBuilderSupported) {\n    fixFileAndXHR()\n    global.Blob = BlobBuilderConstructor\n  } else {\n    FakeBlobBuilder()\n  }\n\n  if (strTag) {\n    File.prototype[strTag] = 'File'\n    Blob.prototype[strTag] = 'Blob'\n    FileReader.prototype[strTag] = 'FileReader'\n  }\n\n  var blob = global.Blob.prototype\n  var stream\n\n  function promisify(obj) {\n    return new Promise(function(resolve, reject) {\n      obj.onload = obj.onerror = function(evt) {\n        obj.onload = obj.onerror = null\n\n        evt.type === 'load'\n          ? resolve(obj.result || obj)\n          : reject(new Error('Failed to read the blob/file'))\n      }\n    })\n  }\n\n  try {\n    new ReadableStream({ type: 'bytes' })\n    stream = function stream() {\n      var position = 0\n      var blob = this\n\n      return new ReadableStream({\n        type: 'bytes',\n        autoAllocateChunkSize: 524288,\n\n        pull: function(controller) {\n          var v = controller.byobRequest.view\n          var chunk = blob.slice(position, position + v.byteLength)\n          return chunk.arrayBuffer().then(function(buffer) {\n            var uint8array = new Uint8Array(buffer)\n            var bytesRead = uint8array.byteLength\n\n            position += bytesRead\n            v.set(uint8array)\n            controller.byobRequest.respond(bytesRead)\n\n            if (position >= blob.size) controller.close()\n          })\n        }\n      })\n    }\n  } catch (e) {\n    try {\n      new ReadableStream({})\n      stream = function stream(blob) {\n        var position = 0\n        var blob = this\n\n        return new ReadableStream({\n          pull: function(controller) {\n            var chunk = blob.slice(position, position + 524288)\n\n            return chunk.arrayBuffer().then(function(buffer) {\n              position += buffer.byteLength\n              var uint8array = new Uint8Array(buffer)\n              controller.enqueue(uint8array)\n\n              if (position == blob.size) controller.close()\n            })\n          }\n        })\n      }\n    } catch (e) {\n      try {\n        new Response('').body.getReader().read()\n        stream = function stream() {\n          return new Response(this).body\n        }\n      } catch (e) {\n        stream = function stream() {\n          throw new Error(\n            'Include https://github.com/MattiasBuelens/web-streams-polyfill'\n          )\n        }\n      }\n    }\n  }\n\n  if (!blob.arrayBuffer) {\n    blob.arrayBuffer = function arrayBuffer() {\n      var fr = new FileReader()\n      fr.readAsArrayBuffer(this)\n      return promisify(fr)\n    }\n  }\n\n  if (!blob.text) {\n    blob.text = function text() {\n      var fr = new FileReader()\n      fr.readAsText(this)\n      return promisify(fr)\n    }\n  }\n\n  if (!blob.stream) {\n    blob.stream = stream\n  }\n})()\n"]}]}