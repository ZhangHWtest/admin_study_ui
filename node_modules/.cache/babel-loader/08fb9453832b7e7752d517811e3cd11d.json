{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/http/axios.js","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/http/axios.js","mtime":1583290163719},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7Ci8qKgogKiBheGlvcyDmi6bmiKrlmajorr7nva4KICovCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAkYXhpb3Mob3B0aW9ucykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgICAvLyDpnIDopoHlr7nmjqXlhbbku5bkurrmjqXlj6PvvIzmiYDku6Xov5nph4zkuI3lrprkuYl1cmwKICAgICAgLy8gYmFzZVVSTDogY29uZmlnLmJhc2VVcmwsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgQXV0aG9yaXphdGlvbjogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgfSwKICAgICAgdGltZW91dDogMTAwMCwKICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZQogICAgfSk7IC8vIHJlcXVlc3Qg6K+35rGC5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgdmFyIHRva2VuID0gQ29va2llcy5nZXQoJ3Rva2VuJyk7IC8v5Y+R6YCB6K+35rGC5pe25pC65bimdG9rZW4KCiAgICAgIGlmICh0b2tlbikgewogICAgICAgIGNvbmZpZy5oZWFkZXJzLnRva2VuID0gdG9rZW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g6YeN5a6a5ZCR5Yiw55m75b2V6aG16Z2iCiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICB9CgogICAgICByZXR1cm4gY29uZmlnOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIC8vIOivt+axguWPkeeUn+mUmeivr+aXtgogICAgICBjb25zb2xlLmxvZygncmVxdWVzdDonLCBlcnJvcik7IC8vIOWIpOaWreivt+axgui2heaXtgoKICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdFQ09OTkFCT1JURUQnICYmIGVycm9yLm1lc3NhZ2UuaW5kZXhPZigndGltZW91dCcpICE9PSAtMSkgewogICAgICAgIGNvbnNvbGUubG9nKCd0aW1lb3V06K+35rGC6LaF5pe2Jyk7CiAgICAgIH0gLy8g6ZyA6KaB6YeN5a6a5ZCR5Yiw6ZSZ6K+v6aG16Z2iCgoKICAgICAgdmFyIGVycm9ySW5mbyA9IGVycm9yLnJlc3BvbnNlOwogICAgICBjb25zb2xlLmxvZyhlcnJvckluZm8pOwoKICAgICAgaWYgKGVycm9ySW5mbykgewogICAgICAgIGVycm9yID0gZXJyb3JJbmZvLmRhdGE7IC8vIOmhtemdoumCo+i+uWNhdGNo55qE5pe25YCZ5bCx6IO95ou/5Yiw6K+m57uG55qE6ZSZ6K+v5L+h5oGvLOeci+acgOS4i+i+ueeahFByb21pc2UucmVqZWN0CgogICAgICAgIHZhciBlcnJvclN0YXR1cyA9IGVycm9ySW5mby5zdGF0dXM7IC8vIDQwNCA0MDMgNTAwIC4uLgoKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2Vycm9yLyR7ZXJyb3JTdGF0dXN9JwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOyAvLyDlnKjosIPnlKjnmoTpgqPovrnlj6/ku6Xmi7/liLAoY2F0Y2gp5L2g5oOz6L+U5Zue55qE6ZSZ6K+v5L+h5oGvCiAgICB9KTsgLy8gcmVzcG9uc2Ug5ZON5bqU5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICBpZiAoZXJyICYmIGVyci5yZXNwb25zZSkgewogICAgICAgIHN3aXRjaCAoZXJyLnJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgY2FzZSA0MDA6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ+ivt+axgumUmeivryc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDAxOgogICAgICAgICAgICBlcnIubWVzc2FnZSA9ICfmnKrmjojmnYPvvIzor7fnmbvlvZUnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQwMzoKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDQ6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gIlx1OEJGN1x1NkM0Mlx1NTczMFx1NTc0MFx1NTFGQVx1OTUxOTogIi5jb25jYXQoZXJyLnJlc3BvbnNlLmNvbmZpZy51cmwpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQwODoKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAn6K+35rGC6LaF5pe2JzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDA6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ+acjeWKoeWZqOWGhemDqOmUmeivryc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNTAxOgogICAgICAgICAgICBlcnIubWVzc2FnZSA9ICfmnI3liqHmnKrlrp7njrAnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDUwMjoKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAn572R5YWz6ZSZ6K+vJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDM6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ+acjeWKoeS4jeWPr+eUqCc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNTA0OgogICAgICAgICAgICBlcnIubWVzc2FnZSA9ICfnvZHlhbPotoXml7YnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDUwNToKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAnSFRUUOeJiOacrOS4jeWPl+aUr+aMgSc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOyAvLyDov5Tlm57mjqXlj6Pov5Tlm57nmoTplJnor6/kv6Hmga8KICAgIH0pOyAvLyDor7fmsYLlpITnkIYKCiAgICBpbnN0YW5jZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/http/axios.js"],"names":["axios","Cookies","router","$axios","options","Promise","resolve","reject","instance","create","headers","Authorization","window","sessionStorage","getItem","timeout","withCredentials","interceptors","request","use","config","token","get","push","error","console","log","code","message","indexOf","errorInfo","response","data","errorStatus","status","path","err","url","then","res"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Cookies from 'js-cookie'\nimport router from '@/router'\n/**\n * axios 拦截器设置\n */\nexport default function $axios(options) {\n  return new Promise((resolve, reject) => {\n    const instance = axios.create({\n      // 需要对接其他人接口，所以这里不定义url\n      // baseURL: config.baseUrl,\n      headers: {\n        'Content-Type': 'application/json;charset=UTF-8',\n        Authorization: window.sessionStorage.getItem('token')\n      },\n      timeout: 1000,\n      withCredentials: false\n    })\n    // request 请求拦截器\n    instance.interceptors.request.use(\n      config => {\n        let token = Cookies.get('token')\n        //发送请求时携带token\n        if (token) {\n          config.headers.token = token\n        } else {\n          // 重定向到登录页面\n          router.push('/login')\n        }\n        return config\n      },\n      error => {\n        // 请求发生错误时\n        console.log('request:', error)\n        // 判断请求超时\n        if (\n          error.code === 'ECONNABORTED' &&\n          error.message.indexOf('timeout') !== -1\n        ) {\n          console.log('timeout请求超时')\n        }\n        // 需要重定向到错误页面\n        const errorInfo = error.response\n        console.log(errorInfo)\n        if (errorInfo) {\n          error = errorInfo.data\n          // 页面那边catch的时候就能拿到详细的错误信息,看最下边的Promise.reject\n          const errorStatus = errorInfo.status // 404 403 500 ...\n          router.push({\n            path: '/error/${errorStatus}'\n          })\n        }\n        return Promise.reject(error) // 在调用的那边可以拿到(catch)你想返回的错误信息\n      }\n    )\n\n    // response 响应拦截器\n    instance.interceptors.response.use(\n      response => {\n        return response\n      },\n      err => {\n        if (err && err.response) {\n          switch (err.response.status) {\n            case 400:\n              err.message = '请求错误'\n              break\n            case 401:\n              err.message = '未授权，请登录'\n              break\n            case 403:\n              err.message = '拒绝访问'\n              break\n            case 404:\n              err.message = `请求地址出错: ${err.response.config.url}`\n              break\n            case 408:\n              err.message = '请求超时'\n              break\n            case 500:\n              err.message = '服务器内部错误'\n              break\n            case 501:\n              err.message = '服务未实现'\n              break\n            case 502:\n              err.message = '网关错误'\n              break\n            case 503:\n              err.message = '服务不可用'\n              break\n            case 504:\n              err.message = '网关超时'\n              break\n            case 505:\n              err.message = 'HTTP版本不受支持'\n              break\n            default:\n          }\n        }\n        console.error(err)\n        return Promise.reject(err) // 返回接口返回的错误信息\n      }\n    )\n    // 请求处理\n    instance(options)\n      .then(res => {\n        resolve(res)\n        return false\n      })\n      .catch(error => {\n        reject(error)\n      })\n  })\n}\n"]}]}