{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/http/axios.js","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/http/axios.js","mtime":1582023977294},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/admin_study_ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7IC8vIGltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScKLy8gaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcicKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICRheGlvcyhvcHRpb25zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgIGJhc2VVUkw6IGNvbmZpZy5iYXNlVXJsLAogICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVycywKICAgICAgdGltZW91dDogY29uZmlnLnRpbWVvdXQsCiAgICAgIHdpdGhDcmVkZW50aWFsczogY29uZmlnLndpdGhDcmVkZW50aWFscwogICAgfSk7IC8vIHJlcXVlc3Qg6K+35rGC5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgLy8gbGV0IHRva2VuID0gQ29va2llcy5nZXQoJ3Rva2VuJykKICAgICAgLy8g5Y+R6YCB6K+35rGC5pe25pC65bimdG9rZW4KICAgICAgLy8gaWYgKHRva2VuKSB7CiAgICAgIC8vICAgY29uZmlnLmhlYWRlcnMudG9rZW4gPSB0b2tlbgogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIC8vIOmHjeWumuWQkeWIsOeZu+W9lemhtemdogogICAgICAvLyAgIHJvdXRlci5wdXNoKCcvbG9naW4nKQogICAgICAvLyB9CiAgICAgIHJldHVybiBjb25maWc7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8g6K+35rGC5Y+R55Sf6ZSZ6K+v5pe2CiAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0OicsIGVycm9yKTsgLy8g5Yik5pat6K+35rGC6LaF5pe2CgogICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0VDT05OQUJPUlRFRCcgJiYgZXJyb3IubWVzc2FnZS5pbmRleE9mKCd0aW1lb3V0JykgIT09IC0xKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3RpbWVvdXTor7fmsYLotoXml7YnKTsKICAgICAgfSAvLyDpnIDopoHph43lrprlkJHliLDplJnor6/pobXpnaIKCgogICAgICB2YXIgZXJyb3JJbmZvID0gZXJyb3IucmVzcG9uc2U7CiAgICAgIGNvbnNvbGUubG9nKGVycm9ySW5mbyk7IC8vIGlmIChlcnJvckluZm8pIHsKICAgICAgLy8gICBlcnJvciA9IGVycm9ySW5mby5kYXRhCiAgICAgIC8vICAgLy8g6aG16Z2i6YKj6L65Y2F0Y2jnmoTml7blgJnlsLHog73mi7/liLDor6bnu4bnmoTplJnor6/kv6Hmga8s55yL5pyA5LiL6L6555qEUHJvbWlzZS5yZWplY3QKICAgICAgLy8gICBjb25zdCBlcnJvclN0YXR1cyA9IGVycm9ySW5mby5zdGF0dXMgLy8gNDA0IDQwMyA1MDAgLi4uCiAgICAgIC8vICAgcm91dGVyLnB1c2goewogICAgICAvLyAgICAgcGF0aDogJy9lcnJvci8ke2Vycm9yU3RhdHVzfScKICAgICAgLy8gICB9KQogICAgICAvLyB9CgogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOyAvLyDlnKjosIPnlKjnmoTpgqPovrnlj6/ku6Xmi7/liLAoY2F0Y2gp5L2g5oOz6L+U5Zue55qE6ZSZ6K+v5L+h5oGvCiAgICB9KTsgLy8gcmVzcG9uc2Ug5ZON5bqU5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICBpZiAoZXJyICYmIGVyci5yZXNwb25zZSkgewogICAgICAgIHN3aXRjaCAoZXJyLnJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgY2FzZSA0MDA6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ+ivt+axgumUmeivryc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDAxOgogICAgICAgICAgICBlcnIubWVzc2FnZSA9ICfmnKrmjojmnYPvvIzor7fnmbvlvZUnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQwMzoKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDQ6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gIlx1OEJGN1x1NkM0Mlx1NTczMFx1NTc0MFx1NTFGQVx1OTUxOTogIi5jb25jYXQoZXJyLnJlc3BvbnNlLmNvbmZpZy51cmwpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQwODoKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAn6K+35rGC6LaF5pe2JzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDA6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ+acjeWKoeWZqOWGhemDqOmUmeivryc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNTAxOgogICAgICAgICAgICBlcnIubWVzc2FnZSA9ICfmnI3liqHmnKrlrp7njrAnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDUwMjoKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAn572R5YWz6ZSZ6K+vJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDM6CiAgICAgICAgICAgIGVyci5tZXNzYWdlID0gJ+acjeWKoeS4jeWPr+eUqCc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNTA0OgogICAgICAgICAgICBlcnIubWVzc2FnZSA9ICfnvZHlhbPotoXml7YnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDUwNToKICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSAnSFRUUOeJiOacrOS4jeWPl+aUr+aMgSc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOyAvLyDov5Tlm57mjqXlj6Pov5Tlm57nmoTplJnor6/kv6Hmga8KICAgIH0pOyAvLyDor7fmsYLlpITnkIYKCiAgICBpbnN0YW5jZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["/Users/zhwtest/Desktop/VueProjects/admin_study_ui/src/http/axios.js"],"names":["axios","config","$axios","options","Promise","resolve","reject","instance","create","baseURL","baseUrl","headers","timeout","withCredentials","interceptors","request","use","error","console","log","code","message","indexOf","errorInfo","response","err","status","url","then","res"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport config from './config'\n// import Cookies from 'js-cookie'\n// import router from '@/router'\n\nexport default function $axios(options) {\n  return new Promise((resolve, reject) => {\n    const instance = axios.create({\n      baseURL: config.baseUrl,\n      headers: config.headers,\n      timeout: config.timeout,\n      withCredentials: config.withCredentials\n    })\n    // request 请求拦截器\n    instance.interceptors.request.use(\n      config => {\n        // let token = Cookies.get('token')\n        // 发送请求时携带token\n        // if (token) {\n        //   config.headers.token = token\n        // } else {\n        //   // 重定向到登录页面\n        //   router.push('/login')\n        // }\n        return config\n      },\n      error => {\n        // 请求发生错误时\n        console.log('request:', error)\n        // 判断请求超时\n        if (error.code === 'ECONNABORTED' && error.message.indexOf('timeout') !== -1) {\n          console.log('timeout请求超时')\n        }\n        // 需要重定向到错误页面\n        const errorInfo = error.response\n        console.log(errorInfo)\n        // if (errorInfo) {\n        //   error = errorInfo.data\n        //   // 页面那边catch的时候就能拿到详细的错误信息,看最下边的Promise.reject\n        //   const errorStatus = errorInfo.status // 404 403 500 ...\n        //   router.push({\n        //     path: '/error/${errorStatus}'\n        //   })\n        // }\n        return Promise.reject(error) // 在调用的那边可以拿到(catch)你想返回的错误信息\n      }\n    )\n\n    // response 响应拦截器\n    instance.interceptors.response.use(\n      response => {\n        return response\n      },\n      err => {\n        if (err && err.response) {\n          switch (err.response.status) {\n            case 400:\n              err.message = '请求错误'\n              break\n            case 401:\n              err.message = '未授权，请登录'\n              break\n            case 403:\n              err.message = '拒绝访问'\n              break\n            case 404:\n              err.message = `请求地址出错: ${err.response.config.url}`\n              break\n            case 408:\n              err.message = '请求超时'\n              break\n            case 500:\n              err.message = '服务器内部错误'\n              break\n            case 501:\n              err.message = '服务未实现'\n              break\n            case 502:\n              err.message = '网关错误'\n              break\n            case 503:\n              err.message = '服务不可用'\n              break\n            case 504:\n              err.message = '网关超时'\n              break\n            case 505:\n              err.message = 'HTTP版本不受支持'\n              break\n            default:\n          }\n        }\n        console.error(err)\n        return Promise.reject(err) // 返回接口返回的错误信息\n      }\n    )\n    // 请求处理\n    instance(options).then(res => {\n      resolve(res)\n      return false\n    }).catch(error => {\n      reject(error)\n    })\n  })\n}\n"]}]}